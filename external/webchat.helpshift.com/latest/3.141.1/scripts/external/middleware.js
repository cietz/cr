"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach((function(n){_defineProperty(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toPropertyKey(e){var n=_toPrimitive(e,"string");return"symbol"==_typeof(n)?n:n+""}function _toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}!function(e,n,t,i,o,a){var r="top-left",s="top-right",E="bottom-left",_="bottom-right",c="FAQ",d={unreadCount:0,widgetOptions:{showLauncher:!0,fullScreen:!1,position:_},cssConfig:{},globalApiEventHandler:null,apiEvents:[],webChatVisibility:{launcher:"block",widget:"none",hiddenByApi:!1},translations:{},mouseInteraction:!1,activeView:"CHAT",loadTimeMetrics:{startTime:window.helpshiftLoadStartTime}},l={utils:{callInternalFunction:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{autoReject:!0,autoRejectAfterTimeInMs:500},o=["DUPLEX_CALL_NOT_FOUND"];return Ee(w.INTERNAL_DUPLEX_CALL,{fn:e,args:t}),new Promise((function(t,a){var r="".concat(w.INTERNAL_DUPLEX_RETURN,"/").concat(e),s=function(e){var n=e.detail;n&&o.includes(n)&&a(n),t(n)};n.addEventListener(r,s,{once:!0});var E=i.autoReject,_=i.autoRejectAfterTimeInMs;E&&setTimeout((function(){n.removeEventListener(r,s),a("No response provided by internal function")}),_||500)}))}},helpers:{_willPlatformProvideNativeLoadInfo:function(){var e,n=null===(e=window.helpshiftConfig)||void 0===e||null===(e=e.liteSdkConfig)||void 0===e||null===(e=e.metaData)||void 0===e?void 0:e.liteSdkVersion;return new Promise((function(e){if(!n)return e(!1);l.utils.callInternalFunction("isVersionGte",[n,"10.2.0"]).then((function(t){e(I&&n&&t)}))}))},isApiOnLoginRequest:function(e){return e.name===y&&(null==e?void 0:e.args[0])===M.ON_LOGIN_REQUEST},isApiOnWebChatRuntimeError:function(e){return e.name===y&&(null==e?void 0:e.args[0])===M.ON_WEBCHAT_RUNTIME_ERROR}}},u=l.helpers,T=new URL("https://webchat.helpshift.com/latest"),S=T.protocol,A=e.helpshiftConfig.platformId,f=T.host,p=T.pathname,N="/".concat("3.141.1","/html/index.html"),C=function(e){return e.split("_platform_")[0].slice(0,8)+e.slice(-16)},g=C(A),h="".concat(S,"//").concat(g,".").concat(f),D="".concat(S,"//").concat(f),m="parent=".concat(encodeURIComponent(e.location.origin)),O="".concat(D).concat(p).concat(N,"?").concat(m),I=!(null===(t=e.helpshiftConfig)||void 0===t||null===(t=t.liteSdkConfig)||void 0===t||!t.os),b="ios"===(null===(i=e.helpshiftConfig)||void 0===i||null===(i=i.liteSdkConfig)||void 0===i?void 0:i.os),R="android"===(null===(o=e.helpshiftConfig)||void 0===o||null===(o=o.liteSdkConfig)||void 0===o?void 0:o.os),L="4px",v="init",y="addEventListener",w={SDK_JS_LOADED:"sdk-js-loaded",SDK_CONFIG_LOADED:"sdk-config-loaded",SDK_CONFIG_FAILED:"sdk-config-failed",SDK_TOGGLE_MESSENGER:"sdk-toggle-messenger",SDK_RESET:"sdk-reset",SDK_UPDATE_UNREAD_COUNT:"sdk-update-unread-count",SDK_EVENT_CHAT_END:"sdk-event-chat-end",SDK_EVENT_CONVERSATION_START:"sdk-event-conversation-start",SDK_EVENT_CONVERSATION_END:"sdk-event-conversation-end",SDK_EVENT_CONVERSATION_REOPENED:"sdk-event-conversation-reopened",SDK_EVENT_CONVERSATION_RESOLVED:"sdk-event-conversation-resolved",SDK_EVENT_CONVERSATION_REJECTED:"sdk-event-conversation-rejected",SDK_EVENT_MESSAGE_ADD:"sdk-event-message-add",SDK_EVENT_CONVERSATION_STATUS:"sdk-event-conversation-status",SDK_EVENT_CSAT_SUBMIT:"sdk-event-csat-submit",SDK_USER_CHANGED_VIA_RE_ENGAGEMENT:"sdk-user-changed-via-re-engagement",SDK_FOCUS_LAUNCHER:"sdk-focus-launcher",SDK_EVENT_SET_LOCAL_STORAGE_DATA:"sdk-event-set-local-storage-data",SDK_EVENT_SET_EXTERNAL_STORAGE_DATA:"sdk-event-set-external-storage-data",SDK_EVENT_SEND_GENERIC_SDK_DATA:"sdk-event-send-generic-sdk-data",SDK_EVENT_SEND_POLLING_STATUS:"sdk-event-send-polling-status",SDK_EVENT_SEND_FAQ_VIEW_STATUS:"sdk-event-send-faq-view-status",SDK_EVENT_REMOVE_LOCAL_STORAGE_DATA:"sdk-event-remove-local-storage-data",SDK_EVENT_UI_CONFIG_CHANGE:"sdk-event-ui-config-change",SDK_EVENT_PUSH_TOKEN_SYNC:"sdk-event-push-token-sync",SDK_EVENT_USER_AUTH_FAILURE:"sdk-event-user-auth-failure",SDK_EVENT_REMOVE_ANONYMOUS_USER:"sdk-event-remove-anonymous-user",SDK_EVENT_SEND_ISSUE_EXISTS_FLAG:"sdk-event-send-issue-exists-flag",SDK_EVENT_REQUEST_CONVERSTATION_METADATA:"sdk-event-request-conversation-metadata",SDK_EVENT_SDKX_MIGRATION_LOG_SYNCED:"sdk-event-sdkx-migration-log-synced",SDK_EVENT_WEBCHAT_JS_FILE_LOADED:"sdk-event-webchat-js-file-loaded",SDK_EVENT_UPLOAD_ATTACHMENT_CLICKED:"sdk-event-upload-attachment-clicked",SDK_EVENT_OVERRIDE_HELPSHIFT_CONFIG_FOR_SUBSEQUENT_PROACTIVE_ISSUES:"sdk-event-override-helpshift-config-for-subsequent-proactive-issues",SDK_EVENT_DELETE_OUTBOUND_SUPPORT_META:"sdk-event-delete-outbound-support-meta",SDK_EVENT_INPUT_FOCUS_CHANGE:"sdk-event-input-focus-change",SDK_EVENT_UPLOAD_ATTACHMENT_DONE:"sdk-event-upload-attachment-done",SDK_EVENT_USER_CLICK_ON_ACTION:"sdk-event-user-click-on-action",SDK_EVENT_AGENT_MESSAGE_RECEIVED:"sdk-event-agent-message-received",SDK_EVENT_CLOSE_HELPSHIFT_WIDGET:"sdk-close-helpshift-widget",SDK_EVENT_GET_HC_ADDITIONAL_INFO:"sdk-event-get-hc-additional-info",SDK_EVENT_ON_WEBCHAT_ERROR:"sdk-event-on-webchat-error",SDK_EVENT_WEBCHAT_RUNTIME_ERROR:"sdk-event-webchat-runtime-error",SDK_EVENT_WC_ACTION_SYNC:"sdk-event-wc-action-sync",SDK_EVENT_ON_LOGIN_REQUEST:"sdk-event-on-login-request",SDK_EVENT_USER_LOGGED_IN:"sdk-event-user-logged-in",CMD_FOCUS_WEBCHAT:"cmd-focus-webchat",CMD_MESSENGER_TOGGLED:"cmd-messenger-toggled",CMD_SET_CONFIG:"cmd-set-config",CMD_SET_INITIAL_USER_MESSAGE:"cmd-set-initial-user-message",CMD_SET_GREETING_MESSAGE:"cmd-set-greeting-message",CMD_SET_LANGUAGE:"cmd-set-language",CMD_SET_CIF:"cmd-set-cif",CMD_SET_METADATA:"cmd-set-metadata",CMD_REPLACE_CIF:"cmd-replace-cif",CMD_SET_FULL_PRIVACY:"cmd-set-full-privacy",CMD_UPDATE_HELPSHIFT_CONFIG:"cmd-update-helpshift-config",CMD_SET_PARENT_PAGE_VISIBILITY:"cmd-set-parent-page-visibility",CMD_SET_DISABLE_PFI:"cmd-set-disable-pfi",CMD_SET_ENABLE_PFI:"cmd-set-enable-pfi",CMD_SDKX_VISIBILITY_CHANGED:"cmd-sdkx-visibility-changed",CMD_TOGGLE_AUTHOR_PRESENCE_STATUS:"cmd-toggle-author-presence-status",CMD_BACK_BTN_PRESS:"cmd-back-btn-press",CMD_SYNC_CONV_METADATA:"cmd-sync-conv-metadata",CMD_SEND_SDKX_MIGRATION_LOG:"cmd-send-sdkx-migration-log",CMD_UPDATE_RELEASE_TAG_AND_TRACK_FIRST_LOAD_TIME:"cmd-update-release-tag-and-track-load-time",CMD_ATTACHMENT_UPLOADED:"cmd-attachment-uploaded",CMD_KEYBOARD_TOGGLE:"cmd-keyboard-toggle",CMD_ORIENTATION_CHANGE:"cmd-orientation-change",CMD_NETWORK_STATUS_CHANGE:"cmd-network-status-change",CMD_UPDATE_CLIENT_CONFIG_WITHOUT_RELOAD:"cmd-update-client-config-without-reload",CMD_NATIVE_ERROR:"cmd-native-error",CMD_LOGIN:"cmd-login",CMD_LOGOUT:"cmd-logout",CMD_UPDATE_GLOBAL_USER_DATA:"cmd-update-global-user-data",CMD_UPDATE_APP_USER_DATA:"cmd-update-app-user-data",CMD_ADD_USER_IDENTITIES:"cmd-add-user-identities",INTERNAL_DUPLEX_CALL:"internal-duplex-call",INTERNAL_DUPLEX_RETURN:"internal-duplex-return",EXTERNAL_EVENT_LOCAL_STORAGE_MIGRATION:"external-event-local-storage-migration",CMD_SET_HC_ADDITIONAL_INFO:"cmd-set-hc-additional-info"},M={CHAT_END:"chatEnd",CONVERSATION_START:"conversationStart",MESSAGE_ADD:"messageAdd",CSAT_SUBMIT:"csatSubmit",CONVERSATION_END:"conversationEnd",CONVERSATION_REOPENED:"conversationReopened",CONVERSATION_RESOLVED:"conversationResolved",CONVERSATION_REJECTED:"conversationRejected",USER_CHANGED:"userChanged",WIDGET_TOGGLE:"widgetToggle",CONVERSATION_STATUS:"conversationStatus",GLOBAL_API_EVENT:"globalApiEvent",USER_AUTH_FAILURE:"userAuthFailure",NEW_UNREAD_MESSAGES:"newUnreadMessages",USER_CLICK_ON_ACTION:"userClickOnAction",AGENT_MESSAGE_RECEIVED:"agentMessageReceived",ON_WEBCHAT_RUNTIME_ERROR:"onWebChatRuntimeError",INPUT_FOCUS_CHANGE:"inputFocusChange",SET_LOCAL_STORAGE_DATA:"setLocalStorageData",REMOVE_LOCAL_STORAGE_DATA:"removeLocalStorageData",UI_CONFIG_CHANGE:"uiConfigChange",PUSH_TOKEN_SYNC:"pushTokenSync",REMOVE_ANONYMOUS_USER:"removeAnonymousUser",WEB_SDK_CONFIG_LOAD:"webSdkConfigLoad",SET_EXTERNAL_STORAGE_DATA:"setExternalStorageData",REMOVE_EXTERNAL_STORAGE_DATA:"removeExternalStorageData",GENERIC_SDK_DATA:"genericSdkData",POLLING_STATUS:"pollingStatus",ISSUE_EXISTS_FLAG:"issueExistsFlag",REQUEST_CONVERSATION_METADATA:"requestConversationMetadata",SDKX_MIGRATION_LOG_SYNCED:"sdkxMigrationLogSynced",UPLOAD_ATTACHMENT_CLICKED:"uploadAttachmentClicked",WEBCHAT_JS_FILE_LOADED:"webchatJsFileLoaded",UPLOAD_ATTACHMENT_DONE:"uploadAttachmentDone",GET_HELPCENTER_DATA:"getHelpcenterData",ON_WEBCHAT_ERROR:"onWebChatError",WC_ACTION_SYNC:"wcActionSync",ON_LOGIN_REQUEST:"onLoginRequest"},k=[M.SET_LOCAL_STORAGE_DATA,M.REMOVE_LOCAL_STORAGE_DATA,M.UI_CONFIG_CHANGE,M.PUSH_TOKEN_SYNC,M.REMOVE_ANONYMOUS_USER,M.WEB_SDK_CONFIG_LOAD,M.SET_EXTERNAL_STORAGE_DATA,M.REMOVE_EXTERNAL_STORAGE_DATA,M.GENERIC_SDK_DATA,M.POLLING_STATUS,M.ISSUE_EXISTS_FLAG,M.REQUEST_CONVERSATION_METADATA,M.SDKX_MIGRATION_LOG_SYNCED,M.UPLOAD_ATTACHMENT_CLICKED,M.WEBCHAT_JS_FILE_LOADED,M.UPLOAD_ATTACHMENT_DONE,M.GET_HELPCENTER_DATA,M.ON_WEBCHAT_ERROR,M.WC_ACTION_SYNC];null!==(a=e.helpshiftConfig)&&void 0!==a&&null!==(a=a.liteSdkConfig)&&void 0!==a&&a.os&&k.push(M.NEW_UNREAD_MESSAGES);var U,G,V,K,P,x,H,F="API name is not passed with the Helpshift call",B="The API name passed with the Helpshift call is not supported",W="API",j="RESET",Y="ON_LOGIN",z={position:"fixed",width:"80px",height:"80px","z-index":"9999991","border-radius":"50%",border:"none",overflow:"hidden",bottom:"4px",right:"4px",padding:"0","box-sizing":"content-box"},X={position:"absolute",top:"16px",left:"16px",width:"48px",height:"48px",background:"#f66","border-radius":"50%",cursor:"pointer","box-sizing":"border-box",padding:"12px 10px 8px",border:"none","outline-offset":"-4px","outline-width":"0","outline-style":"solid","outline-color":"rgba(0, 103, 244, .4)","box-shadow":"0 2px 14px 0 rgba(0, 0, 0, 0.4)"},q={position:"fixed",right:"16px","min-height":"380px","max-height":"780px","min-width":"360px","max-width":"380px",height:"calc(100% - 32px)",width:"100%",border:"none","border-radius":"12px","z-index":"9999999",overflow:"hidden",transform:"translate3d(0,0,0)","box-shadow":"0 4px 32px rgba(0, 0, 0, .2)"},J={position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px","min-height":"0","max-height":"none","min-width":"0","max-width":"none",width:"100%",height:"100%",border:"none",margin:0,padding:0,overflow:"hidden","z-index":"9999999","border-radius":"0"},Q={position:"absolute",top:"0px",left:"0px",bottom:"0px",right:"0px","min-height":"0","max-height":"none","min-width":"0","max-width":"none",width:"100%",height:"100%",border:"none",margin:0,padding:0,overflow:"hidden","z-index":"9999999"},$={"background-color":"#fa3e3e","border-radius":"50%",color:"white",width:"20px",height:"20px","line-height":"20px","text-align":"center","font-size":"12px",position:"absolute",top:"0px",right:"0px","font-family":"sans-serif","z-index":"9999999","box-shadow":"rgba(0, 0, 0, 0.4) 0px 1px 2px 0px"},Z="CLOSE",ee="MESSENGER",ne="\n    <svg xmlns='http://www.w3.org/2000/svg'\n      width=\"60%\" height=\"60%\" viewBox='0 0 512 512'\n      style=\"top: 10px; left: 10px; position: absolute;\">\n      <path fill='{{crossIconBgColor}}' stroke='currentColor' class='close-icon'\n        stroke-linecap='round' stroke-linejoin='round'\n        style=\"visibility: hidden;\"\n        stroke-width='32' d='M368 368L144 144M368 144L144 368'/>\n    </svg>\n    <svg xmlns='http://www.w3.org/2000/svg'\n      width=\"21px\" height=\"21px\"\n      viewBox='0 0 512 512'\n      style=\"top: 14px; left: 14px; position: absolute;\">\n      <path\n        fill=\"#FFFFFF\"\n        class='messenger-icon'\n        stroke=\"currentColor\"\n        d=\"M144 464a16 16 0 01-16-16v-64h-24a72.08 72.08 0 01-72-72V120a72.08\n        72.08 0 0172-72h304a72.08 72.08 0 0172 72v192a72.08 72.08 0 01-72\n        72H245.74l-91.49 76.29A16.05 16.05 0 01144 464z\"\n      />\n    </svg>\n  ",te="\n    @keyframes hs-websdk-slide-up {\n      0% {\n        opacity: 0;\n        transform: translateY(40px);\n        transform-origin: 0 0;\n      }\n      100%{\n        opacity: 1;\n        transform: translateY(0);\n        transform-origin: 0 0;\n      }\n    }\n    @keyframes hs-websdk-slide-down {\n      0% {\n        opacity: 0.9;\n        transform: translateY(0%);\n        transform-origin: 0 0;\n      }\n      100% {\n        opacity: 0;\n        transform: translateY(25%);\n        transform-origin: 0 0;\n      }\n    }\n    html.hs-websdk-open, html.hs-websdk-open>body {\n      overflow: hidden !important;\n    }\n  ",ie=!1,oe=function(){return{title:n.title,url:e.location.href,origin:e.location.origin,width:Math.max(n.documentElement.clientWidth,e.innerWidth||0),height:Math.max(n.documentElement.clientHeight,e.innerHeight||0)}},ae=function(){var e;try{e=!!window.localStorage,window.localStorage.setItem("hs-dk","hs-dv"),window.localStorage.getItem("hs-dk")&&window.localStorage.removeItem("hs-dk")}catch(n){e=!1}return e}(),re=_defineProperty({},M.USER_CHANGED,{eventHasOccured:!1,data:null}),se=function(e,n){if(e)for(var t in n)n.hasOwnProperty(t)&&(e.style[t]=n[t])},Ee=function(e,n){U.contentWindow.postMessage(JSON.stringify({type:e,data:n}),O)},_e=function(e){e.parentNode.removeChild(e)},ce=function(e){P&&K&&G&&(e===Z?(se(G,{padding:"16px"}),G.setAttribute("aria-label",d.translations.ariaCloseWcLabel)):(se(G,{padding:"12px 10px 8px"}),G.setAttribute("aria-label",d.translations.ariaOpenWcLabel)))},de=function(){var e=ne.replace("{{crossIconBgColor}}",d.cssConfig.crossIconBgColor);return(x=n.createElement("button")).setAttribute("aria-label",d.translations.ariaOpenWcLabel),(K=n.createElement("span")).innerHTML=e,V=n.createElement("span"),se(V,$),le(),x.appendChild(V),x.appendChild(K),x.addEventListener("focus",(function(){d.mouseInteraction?d.mouseInteraction=!1:se(P,{outline:"2px solid rgb(39, 93, 197)",borderRadius:"8px",padding:"2px",margin:"2px"})})),x.addEventListener("blur",(function(){se(P,{outline:"none",borderRadius:"50%",padding:"0"})})),x.addEventListener("mousedown",(function(){d.mouseInteraction=!0})),se(x,X),x},le=function(){V&&(0!==d.unreadCount&&"none"===U.style.display?(V.innerHTML=d.unreadCount,se(V,{display:"inline"})):(V.innerHTML="",se(V,{display:"none"})))},ue=function(){P&&(_e(P),P=null)},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="none"===U.style.display;n!==e.widgetShouldMinimize?(Ae(),be("widgetToggle",{visible:"block"===d.webChatVisibility.widget}),Ee(w.CMD_MESSENGER_TOGGLED,{widgetHasMinimized:!n,trigger:e.trigger}),le()):d.isMobile&&Se(!1)},Se=function(e){n.documentElement&&(e?n.documentElement.classList.add("hs-websdk-open"):n.documentElement.classList.remove("hs-websdk-open"))},Ae=function(){var e="none"===U.style.display;d.isMobile&&Se(e);var n=d.cssConfig,t=n.launcherBgColor,i=n.gradientSecondaryColor,o=null;P&&(o=P.contentWindow.document.querySelector(".messenger-icon")),e?(U.style.display="block",se(U,{animation:"hs-websdk-slide-up 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)"}),se(U,{bottom:"16px",right:"16px"}),P&&(G.classList.remove("hs-websdk-launcher-anti-clockwise"),o.classList.remove("hs-websdk-messenger-reverse"),o.classList.add("hs-websdk-messenger"),G.classList.add("hs-websdk-launcher-clockwise"),(d.fullScreen||d.isMobile)&&se(P,{display:"none"})),d.webChatVisibility.widget="block",U.focus(),ce(Z)):(P&&(G.classList.remove("hs-websdk-launcher-clockwise"),o.classList.remove("hs-websdk-messenger"),G.classList.add("hs-websdk-launcher-anti-clockwise"),(d.fullScreen||d.isMobile)&&se(P,{display:"block"}),i&&se(x,{background:"\n              linear-gradient(131deg, ".concat(i,", ").concat(t," 123%)\n            ")}),o.classList.add("hs-websdk-messenger-reverse")),se(U,{animation:"hs-websdk-slide-down 1s ease-out"}),setTimeout((function(){U.style.display="none"}),100),d.webChatVisibility.widget="none",ce(ee))},fe=function(){ie=!0,Oe();var e=parseInt(d.loadTimeMetrics.nativeLoadTime,10)>0;u._willPlatformProvideNativeLoadInfo().then((function(n){n&&!e||xe()}))},pe=function(){var t=e.helpshiftConfig.widgetSelector;return t&&n.querySelector(t)||null},Ne=function(e){pe()?se(U,Q):e.fullScreen?se(U,J):se(U,q)},Ce=function(e){!function(){var e=d.cssConfig,n=e.launcherBgColor,t=e.launcherTextColor,i=e.notificationBgColor,o=e.notificationTextColor,a=e.focusRingColor,r=e.gradientSecondaryColor;X.background=r?"linear-gradient(131deg, ".concat(r,", ").concat(n," 122%)"):n,X.outlineColor=a,$.background=i,$.color=o;var s='fill="'.concat(t,'" ');ne=ne.replace(/fill=".+"\s/,s),P&&!d.widgetOptions.showLauncher&&ue()}(),function(){var e=d.widgetOptions.showLauncher?"4px":L;switch(d.widgetOptions.position){case _:z.top="auto",z.bottom=L,z.left="auto",z.right=L,q.top="auto",q.bottom=e,q.left="auto",q.right=L,$.right="0px",$.left="auto";break;case E:z.top="auto",z.bottom=L,z.left=L,z.right="auto",q.top="auto",q.bottom=e,q.left=L,q.right="auto",$.left="0px",$.right="auto";break;case r:z.top=L,z.bottom="auto",z.left=L,z.right="auto",q.top=e,q.bottom="auto",q.left=L,q.right="auto",$.left="0px",$.right="auto";break;case s:z.top=L,z.bottom="auto",z.left="auto",z.right=L,q.top=e,q.bottom="auto",q.left="auto",q.right=L,$.right="0px",$.left="auto"}se(P,z),se(U,q)}(),Ne(e),"number"==typeof d.widgetOptions.zIndex&&(se(U,{zIndex:d.widgetOptions.zIndex+10}),se(P,{zIndex:d.widgetOptions.zIndex}))},ge=function(){var e=d.cssConfig,n=e.gradientSecondaryColor,t=e.launcherBgColor,i="\n    .hs-websdk-messenger {\n      animation-duration: .12s;\n      animation-name: hs-websdk-messenger-icon-clockwise-rotation;\n      animation-fill-mode: both;\n      animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n    }\n\n    .hs-websdk-messenger-reverse {\n      animation-delay: .1s;\n      animation-duration: .2s;\n      animation-name: hs-websdk-messenger-icon-anti-clockwise-rotation;\n      animation-fill-mode: both;\n      fill: white;\n      animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);\n    }\n\n    .hs-websdk-launcher-clockwise {\n      animation-duration: .3s;\n      animation-name: hs-websdk-launcher-btn-clockwise;\n      animation-fill-mode: both;\n      animation-timing-function: linear;\n    }\n\n    .hs-websdk-launcher-anti-clockwise {\n      animation-duration: .3s;\n      animation-name: hs-websdk-launcher-btn-anti-clockwise;\n      animation-fill-mode: both;\n      animation-timing-function: linear;\n    }\n\n    @keyframes hs-websdk-messenger-icon-clockwise-rotation {\n      0% {\n        opacity: 1;\n        transform: rotate(0deg);\n        transform-origin: center center;\n      }\n      100% {\n        opacity: .1;\n        transform: rotate(45deg);\n        transform-origin: center center;\n      }\n    }\n\n    @keyframes hs-websdk-messenger-icon-anti-clockwise-rotation {\n      0% {\n        opacity: 0;\n        transform: rotate(45deg);\n        transform-origin: center center;\n      }\n      100% {\n        opacity: 1;\n        transform: rotate(0deg);\n        transform-origin: center center;\n      }\n    }\n\n    @keyframes hs-websdk-launcher-btn-clockwise {\n      0% {\n        background: {{gradient-color}};\n        opacity: 1;\n      }\n      50% {\n        background: {{gradient-color}};\n        opacity: .1;\n      }\n      51% {\n        background: {{crossIconBgColor}};\n        opacity: .75;\n      }\n      100% {\n        opacity: 1;\n        background: {{crossIconBgColor}};\n      }\n    }\n\n    @keyframes hs-websdk-launcher-btn-anti-clockwise {\n      0% {\n        opacity: 1;\n        background: {{crossIconBgColor}};\n      }\n      30% {\n        background: {{crossIconBgColor}};\n        opacity: .75;\n      }\n      31% {\n        background: {{gradient-color}};\n        opacity: .1;\n      }\n      100% {\n        background: {{gradient-color}};\n        opacity: 1;\n      }\n    }\n  ";return i=(i=(i=i.split("{{gradient-color}}").join("linear-gradient(131deg, ".concat(n,", ").concat(t," 123%)"))).split("{{crossIconBgColor}}").join(d.cssConfig.crossIconBgColor)).split("{{crossIconHoverColor}}").join(d.cssConfig.crossIconHoverColor)},he=function(e){if(!e.widgetEnabled)return U&&(_e(U),U=null),void ue();Ie(),function(e){d.cssConfig=e.cssConfig,d.widgetOptions.fullScreen=e.fullScreen,d.translations=e.translations}(e),Ce(e);var t=!d.widgetOptions.showLauncher;if(t&&fe(),t||P){se(x,X);var i=ge();P&&(P.styleEl.textContent=i)}else{var o;(o=n.createElement("iframe")).id="hs-web-sdk-iframe-launcher",o.setAttribute("role","none"),se(o,z),"number"==typeof d.widgetOptions.zIndex&&se(o,{zIndex:d.widgetOptions.zIndex}),(P=o).onload=function(){var t=n.createElement("meta");t.setAttribute("charset","utf-8"),P.contentDocument.head.appendChild(t);var i=n.createElement("title");i.innerText="Support Web Chat Launcher",P.contentDocument.head.appendChild(i);var o=document.createElement("style"),a=ge();o.styleSheet?o.styleSheet.cssText=a:o.appendChild(document.createTextNode(a)),P.styleEl=o,P.contentDocument.head.appendChild(o),(G=de()).addEventListener("click",(function(){Te()})),P.contentDocument.body.appendChild(G),fe(),e.widgetShouldAutoOpen&&Te({widgetShouldMinimize:!1})},n.body.appendChild(P)}},De=function(e){Ee(w.CMD_SET_CONFIG,e)},me=function(e){return"function"==typeof He[e]},Oe=function(){Ye.forEach((function(e){if("function"==typeof e)return e()})),Ye=[]},Ie=function(){var e=window.helpshiftConfig.widgetOptions||{};"boolean"==typeof e.showLauncher&&(d.widgetOptions.showLauncher=e.showLauncher),"boolean"==typeof e.fullScreen&&(d.widgetOptions.fullScreen=e.fullScreen),"string"==typeof e.position&&(d.widgetOptions.position=e.position),"number"==typeof e.zIndex&&(d.widgetOptions.zIndex=e.zIndex)},be=function(e,n){var t,i=!1;(d.globalApiEventHandler&&-1===k.indexOf(e)&&d.globalApiEventHandler(_defineProperty({},e,n||{})),d.apiEvents.forEach((function(t){t.eventName===e&&(t.eventHandler(n),i=!0)})),i)||(t=re[e]&&re[e].data?_objectSpread(_objectSpread({},re[e].data),n):n,re[e]={eventHasOccured:!0,data:t})};be(M.WEBCHAT_JS_FILE_LOADED);var Re,Le,ve=function(){if(document&&document.body){H&&clearTimeout(H);var t=n.getElementById("hs-web-sdk-iframe");if(ae&&!t){var i;Ie(),d.widgetOptions.showLauncher||(q.bottom=L),d.webChatVisibility.launcher=d.widgetOptions.showLauncher?"block":"none",(i=n.createElement("iframe")).setAttribute("role","none"),i.id="hs-web-sdk-iframe",i.src=O,se(i,{display:"none"}),U=i,(pe()||n.body).appendChild(U),ye(),e.addEventListener("message",(function(t){if(t.origin===h||t.origin===D){var i,o;try{var a=JSON.parse(t.data);i=a.type,o=a.data}catch(e){return}switch(i){case w.SDK_JS_LOADED:De({clientConfig:e.helpshiftConfig,parentPageInfo:oe(),truncatedPlatformId:C(e.helpshiftConfig.platformId)}),d.loadTimeMetrics.jsLoadTimeInMs=window.performance.now()-d.loadTimeMetrics.startTime;break;case w.SDK_USER_CHANGED_VIA_RE_ENGAGEMENT:be(M.USER_CHANGED,o.userInfo);break;case w.SDK_CONFIG_LOADED:d.loadTimeMetrics.configLoadTimeInMs=window.performance.now()-d.loadTimeMetrics.startTime-d.loadTimeMetrics.jsLoadTimeInMs,he(o.wmConfig),be(M.WEB_SDK_CONFIG_LOAD),be(M.ISSUE_EXISTS_FLAG,{issueExists:o.issueExists}),d.isMobile=o.wmConfig.isMobile,d.fullScreen=o.wmConfig.fullScreen;break;case w.SDK_CONFIG_FAILED:fe(),be(M.WEB_SDK_CONFIG_LOAD),Ne({fullScreen:o.fullScreen}),d.isMobile=o.isMobile,d.fullScreen=o.fullScreen;break;case w.SDK_TOGGLE_MESSENGER:Te({widgetShouldMinimize:o.minimized});break;case w.SDK_UPDATE_UNREAD_COUNT:if(d.unreadCount=o.count,x&&d.unreadCount){var r=d.translations.ariaOpenWcLabel+", ";r+=d.translations.ariaWcBadgeLabel.replace("{{num}}",d.unreadCount),x.setAttribute("aria-label",r)}le(),be(M.NEW_UNREAD_MESSAGES,{unreadCount:o.count});break;case w.SDK_EVENT_INPUT_FOCUS_CHANGE:be(M.INPUT_FOCUS_CHANGE,{inputIsFocused:o.inputIsFocused});break;case w.SDK_RESET:d.unreadCount=0,le(),De({clientConfig:e.helpshiftConfig,parentPageInfo:oe(),trigger:j,truncatedPlatformId:C(e.helpshiftConfig.platformId)});break;case w.SDK_EVENT_CHAT_END:be(M.CHAT_END);break;case w.SDK_EVENT_CONVERSATION_START:be(M.CONVERSATION_START,{message:o.message});break;case w.SDK_EVENT_CONVERSATION_END:be(M.CONVERSATION_END);break;case w.SDK_EVENT_CONVERSATION_REOPENED:be(M.CONVERSATION_REOPENED);break;case w.SDK_EVENT_CONVERSATION_RESOLVED:be(M.CONVERSATION_RESOLVED);break;case w.SDK_EVENT_CONVERSATION_REJECTED:be(M.CONVERSATION_REJECTED);break;case w.SDK_EVENT_MESSAGE_ADD:be(M.MESSAGE_ADD,{type:o.type,body:o.body,attachmentCount:o.attachmentCount});break;case w.SDK_EVENT_CSAT_SUBMIT:be(M.CSAT_SUBMIT,{rating:o.rating,additionalFeedback:o.review});break;case w.SDK_FOCUS_LAUNCHER:U.blur(),P.focus(),x&&x.focus();break;case w.SDK_EVENT_SEND_FAQ_VIEW_STATUS:d.activeView=o.activeView;break;case w.SDK_EVENT_CONVERSATION_STATUS:be(M.CONVERSATION_STATUS,o);break;case w.SDK_EVENT_SET_LOCAL_STORAGE_DATA:be(M.SET_LOCAL_STORAGE_DATA,o);break;case w.SDK_EVENT_REMOVE_LOCAL_STORAGE_DATA:be(M.REMOVE_LOCAL_STORAGE_DATA,o);break;case w.SDK_EVENT_UI_CONFIG_CHANGE:be(M.UI_CONFIG_CHANGE,o);break;case w.SDK_EVENT_PUSH_TOKEN_SYNC:be(M.PUSH_TOKEN_SYNC,o);break;case w.SDK_EVENT_USER_AUTH_FAILURE:Oe(),be(M.USER_AUTH_FAILURE,o);break;case w.SDK_EVENT_REMOVE_ANONYMOUS_USER:be(M.REMOVE_ANONYMOUS_USER);break;case w.SDK_EVENT_SET_EXTERNAL_STORAGE_DATA:be(M.SET_EXTERNAL_STORAGE_DATA,o);break;case w.SDK_EVENT_SEND_GENERIC_SDK_DATA:be(M.GENERIC_SDK_DATA,o);break;case w.SDK_EVENT_SEND_POLLING_STATUS:be(M.POLLING_STATUS,o);break;case w.SDK_EVENT_SEND_ISSUE_EXISTS_FLAG:be(M.ISSUE_EXISTS_FLAG,o);break;case w.SDK_EVENT_REQUEST_CONVERSTATION_METADATA:be(M.REQUEST_CONVERSATION_METADATA,o);break;case w.SDK_EVENT_SDKX_MIGRATION_LOG_SYNCED:be(M.SDKX_MIGRATION_LOG_SYNCED,o);break;case w.SDK_EVENT_UPLOAD_ATTACHMENT_CLICKED:be(M.UPLOAD_ATTACHMENT_CLICKED,o);break;case w.SDK_EVENT_OVERRIDE_HELPSHIFT_CONFIG_FOR_SUBSEQUENT_PROACTIVE_ISSUES:we(o);break;case w.SDK_EVENT_DELETE_OUTBOUND_SUPPORT_META:Me();break;case w.INTERNAL_DUPLEX_RETURN:var s="".concat(w.INTERNAL_DUPLEX_RETURN,"/").concat(o.fn),E=new CustomEvent(s,{detail:o.value});n.dispatchEvent(E);break;case w.SDK_EVENT_UPLOAD_ATTACHMENT_DONE:be(M.UPLOAD_ATTACHMENT_DONE);break;case w.SDK_EVENT_GET_HC_ADDITIONAL_INFO:be(M.GET_HELPCENTER_DATA);break;case w.SDK_EVENT_USER_CLICK_ON_ACTION:be(M.USER_CLICK_ON_ACTION,o);break;case w.SDK_EVENT_AGENT_MESSAGE_RECEIVED:be(M.AGENT_MESSAGE_RECEIVED,o);break;case w.SDK_EVENT_ON_WEBCHAT_ERROR:var _=o,c=_.errorInfo;_.featureIsSupportedInSDKX?be(M.ON_WEBCHAT_ERROR,c):I&&(R&&HSInterface?HSInterface.onWebchatError():b&&be(M.ON_WEBCHAT_ERROR));break;case w.SDK_EVENT_WEBCHAT_RUNTIME_ERROR:be(M.ON_WEBCHAT_RUNTIME_ERROR,o),re[M.ON_WEBCHAT_RUNTIME_ERROR]&&console.error(o);break;case w.SDK_EVENT_WC_ACTION_SYNC:be(M.WC_ACTION_SYNC,o);break;case w.SDK_EVENT_ON_LOGIN_REQUEST:be(M.ON_LOGIN_REQUEST,o);break;case w.SDK_EVENT_USER_LOGGED_IN:De({clientConfig:e.helpshiftConfig,parentPageInfo:oe(),trigger:Y,truncatedPlatformId:C(e.helpshiftConfig.platformId)})}}}),!1);try{n.addEventListener("visibilitychange",(function(){var e=document.hidden||document.mozHidden||document.msHidden||document.webkitHidden;ke(!e,!1)}))}catch(e){ke(!0,!1)}}}else H=setTimeout(ve,500)},ye=function(){var e=document.createElement("style");e.styleSheet?e.styleSheet.cssText=te:e.appendChild(document.createTextNode(te)),document.head.appendChild(e)},we=function(n){n.forEach((function(n){var t;null!==(t=e.helpshiftConfig)&&void 0!==t&&t.configForSubsequentProactiveIssues&&(e.helpshiftConfig[n]=e.helpshiftConfig.configForSubsequentProactiveIssues[n])}))},Me=function(){var e;null===(e=window.helpshiftConfig)||void 0===e||delete e.outboundSupportMeta},ke=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ee(w.CMD_TOGGLE_AUTHOR_PRESENCE_STATUS,{authorIsOnline:e,fromLiteSdk:n})},Ue=function(e){for(var n in M)if(M[n]===e)return!0;return!1},Ge=function(e){return"object"===_typeof(e)&&!Array.isArray(e)&&null!==e},Ve=function(e){var n={};if(!Ge(e))return n;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];Ge(i)&&"string"==typeof i.type&&i.type&&void 0!==i.value&&(n[t]={type:i.type,value:i.value})}return n},Ke=function(){Ee(w.CMD_UPDATE_HELPSHIFT_CONFIG,{helpshiftConfig:e.helpshiftConfig})},Pe=function(){var e=d.loadTimeMetrics,n=e.startTime;return e.endTime-n+(e.nativeLoadTime||0)},xe=function(){void 0===d.loadTimeMetrics.endTime&&(d.loadTimeMetrics.endTime=e.performance.now()),d.loadTimeMetrics.startTime&&(Ee(w.CMD_UPDATE_RELEASE_TAG_AND_TRACK_FIRST_LOAD_TIME,{loadTimeInMs:parseInt(Pe(),10),nativeLoadTimeInMs:parseInt(d.loadTimeMetrics.nativeLoadTime||0,10),configLoadTimeInMs:parseInt(d.loadTimeMetrics.configLoadTimeInMs,10),jsLoadTimeInMs:parseInt(d.loadTimeMetrics.jsLoadTimeInMs,10),nativeLoadSource:d.loadTimeMetrics.nativeLoadSource||"",domain:window.helpshiftConfig.domain,parentPageUrl:oe().url}),d.loadTimeMetrics.startTime=null)},He={init:ve,open:function(){d.webChatVisibility.hiddenByApi||Te({widgetShouldMinimize:!1,trigger:W})},close:function(){d.webChatVisibility.hiddenByApi||(Te({widgetShouldMinimize:!0,trigger:W}),se(P,{display:"block",margin:"4px",padding:"0",borderRadius:"50%"}))},setInitialUserMessage:function(e){"string"==typeof e&&Ee(w.CMD_SET_INITIAL_USER_MESSAGE,{message:e.trim(),trigger:W})},setGreetingMessage:function(e){e&&"string"==typeof e&&Ee(w.CMD_SET_GREETING_MESSAGE,{message:e})},setLanguage:function(e){e&&"string"==typeof e&&Ee(w.CMD_SET_LANGUAGE,{language:e})},addEventListener:function(e,n){if(Ue(e)&&n){if(e===M.GLOBAL_API_EVENT)return void(d.globalApiEventHandler=n);d.apiEvents.push({eventName:e,eventHandler:n});var t=re[e];t&&t.eventHasOccured&&(be(e,t.data),function(e){re[e]={eventHasOccured:!1,data:null}}(e))}},removeEventListener:function(e,n){if(Ue(e)&&n){if(e===M.GLOBAL_API_EVENT)return void(d.globalApiEventHandler=null);d.apiEvents=d.apiEvents.filter((function(t){return!(t.eventName===e&&t.eventHandler===n)}))}},setCustomIssueFields:function(e){Ee(w.CMD_SET_CIF,{cifData:Ve(e)})},setHelpcenterData:function(e){var n={};if(Ge(e))n=e;else if("string"==typeof e)try{n=JSON.parse(e)}catch(e){}Ee(w.CMD_SET_HC_ADDITIONAL_INFO,{hcAdditionalInfo:n})},setCustomMetadata:function(e){e&&Ge(e)&&Ee(w.CMD_SET_METADATA,{metadata:e})},replaceCustomIssueFields:function(e){Ee(w.CMD_REPLACE_CIF,{cifData:Ve(e)})},setFullPrivacy:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ee(w.CMD_SET_FULL_PRIVACY,{enabled:e})},updateHelpshiftConfig:Ke,hide:function(){d.widgetOptions.showLauncher&&G&&"none"!==G.style.display&&(G.style.display="none",d.webChatVisibility.launcher=G.style.display),U&&"none"!==U.style.display&&(d.webChatVisibility.widget=U.style.display,U.style.display="none"),d.webChatVisibility.hiddenByApi=!0},show:function(){U&&(U.style.display=d.webChatVisibility.widget,d.widgetOptions.showLauncher&&G&&(G.style.display="block",d.webChatVisibility.launcher=G.style.display),d.webChatVisibility.hiddenByApi=!1)},updateParentPageVisibility:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Ee(w.CMD_SET_PARENT_PAGE_VISIBILITY,{parentPageIsVisible:e})},disableConfigPeriodicFetch:function(){Ee(w.CMD_SET_DISABLE_PFI,{respectPfi:!1})},enableConfigPeriodicFetch:function(){Ee(w.CMD_SET_ENABLE_PFI)},sdkxIsInForeground:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Ee(w.CMD_SDKX_VISIBILITY_CHANGED,{status:e}),ke(e,!0)},backBtnPress:function(){return Ee(w.CMD_BACK_BTN_PRESS),d.activeView===c},syncConversationMetadata:function(e){Ee(w.CMD_SYNC_CONV_METADATA,{conversationMetadata:e})},sdkxMigrationLog:function(e){Ee(w.CMD_SEND_SDKX_MIGRATION_LOG,{message:e})},attachmentUploaded:function(e){Ee(w.CMD_ATTACHMENT_UPLOADED,{message:e})},onKeyboardToggle:function(e){Ee(w.CMD_KEYBOARD_TOGGLE,e)},onOrientationChange:function(e){Ee(w.CMD_ORIENTATION_CHANGE,e)},nativeLoadTime:function(e){try{var n=JSON.parse(e),t=n.time,i=n.source;if(d.loadTimeMetrics=_objectSpread(_objectSpread({},d.loadTimeMetrics),{},{nativeLoadTime:parseInt(t,10),nativeLoadSource:i}),!ie)return;xe()}catch(e){}},onNetworkStatusChange:function(e){Ee(w.CMD_NETWORK_STATUS_CHANGE,e)},updateClientConfigWithoutReload:function(){Ee(w.CMD_UPDATE_CLIENT_CONFIG_WITHOUT_RELOAD,e.helpshiftConfig)},onNativeError:function(e){Ee(w.CMD_NATIVE_ERROR,e)},login:function(e){Ee(w.CMD_LOGIN,e)},logout:function(){Ee(w.CMD_LOGOUT),e.helpshiftConfig.userId="",e.helpshiftConfig.userEmail="",e.helpshiftConfig.phoneNumber="",e.helpshiftConfig.userName="",Ke()},updateGlobalUserData:function(e){Ee(w.CMD_UPDATE_GLOBAL_USER_DATA,e)},updateAppUserData:function(e){Ee(w.CMD_UPDATE_APP_USER_DATA,e)},addUserIdentities:function(e){Ee(w.CMD_ADD_USER_IDENTITIES,e)}},Fe=(Re=e.Helpshift,Le=[],Re&&Array.isArray(Re.q)&&Re.q.length&&Re.q.forEach((function(e){for(var n=e.length,t=[],i=0;i<n;i++)t.push(e[i]);var o=t[0],a=t.slice(1);if(me(o)){var r=He[o];Le.push({fn:r.bind.apply(r,_toConsumableArray([null].concat(a))),name:o,args:a})}})),Le),Be=Fe.find((function(e){return e.name===v})),We=Fe.find(u.isApiOnLoginRequest),je=Fe.find(u.isApiOnWebChatRuntimeError),Ye=Fe.filter((function(e){return e.name!==v&&!u.isApiOnLoginRequest(e)&&!u.isApiOnWebChatRuntimeError(e)})).map((function(e){return e.fn}));e.Helpshift=function(e){if("string"!=typeof e)throw new Error(F);if("function"!=typeof He[e])throw new Error(B+" - "+e);for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];if(ie||e===v||"login"===e||"updateHelpshiftConfig"===e)return He[e].apply(null,t);var o;me(e)&&Ye.push((o=He[e]).bind.apply(o,[null].concat(t)))},Be&&Be.fn(),We&&We.fn(),je&&je.fn()}(window,document);